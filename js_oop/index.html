<!-- ***********
Project Name: js_oop
File Name: index.html
Author: Lance Takiguchi
Date: 08/30/2016 Time: 15:24
Objective: Learning and get our first experience in JS object oriented programming.
Prompt: https://learning-fuze.github.io/prototypes_C10/#/JS-OOP
 *********** -->

<!doctype html>
<html>
<head>
    <title> Javascript OOP Prototypes </title>

    <script>
        // ****** Feature Set 1 - Coin Stack ******
        var coin_stack = function(init_coins){ //** 1. Create constructor function w/ parameter for initial amount of coins
            this.value = init_coins;     //** 2. property value set to initial coin amount


            // ****** Feature Set 2 - Add Remove Coins ******
            //** 1. Method that will add coins to coin_stack w/ param for how many to add
            this.add_coins = function(coins_to_add){
                this.value += coins_to_add; //** Adds in coins to the coin_stack
            };
            //** 2. Method that will remove coins from coin_stack.
            this.remove_coins = function(coins_to_remove){
                if(this.value >= coins_to_remove){ //** If there are enough coins to remove
                    this.value -= coins_to_remove; //** Amount requested to be removed
                    return coins_to_remove; //** Return how many coins were taken
                }else{
                    var amount_taken = this.value; //** Save how much is about to be transferred in actuality as there is not enough value relative to coins_to_remove
                    this.value -= this.value; //** Take everything out of the coin_stack
                    return amount_taken; //** This is how much is taken out
                }
            };
        };
        //** Set 1-3. Testing constructor
        var my_coin_stack = new coin_stack(50);
        console.log("my_coin_stack contains ", my_coin_stack.value, " coins");

        //*** Set 2-3. Test add_coins and remove_coins methods of coin_stack
        //** Testing coin_stack.add_coins functionality; Testing if coin_stack can have coins added to it's value
        my_coin_stack.add_coins(15); //**a. Add 15 coins
        console.log("I have ", my_coin_stack.value, " coins in my coin stack"); //**b. logging new value

        //** Testing to see if coins can be removed if you have enough coins
        /*console.log("I have ", my_coin_stack.remove_coins(37), " coins in my coin stack"); One way to do part c. & d.*/
        my_coin_stack.remove_coins(37); //**c. remove 37 coins
        console.log("I have ", my_coin_stack.value, " coins in my coin stack"); //**b. logging new value

        //** Testing to see if the coin_stack object can handle a remove_coins amount greater that the current coin_stack.value
        console.log("I have ", my_coin_stack.remove_coins(55), " coins in my coin stack"); //** e. & f. removing 55 coins


        // ****** Feature Set 3 - Prototype in the prototype ******
        //** 1. Prototype a method that transfers coins from one coin_stack to another
        coin_stack.prototype.transfer_coins = function(robbed_coin_stack, transfer_amount){
            /*this.add_coins(robbed_coin_stack.remove_coins(transfer_amount)); //!** Removes coins from robbed_coin_stack and adds them to this coin_stack*/ //** One line version
            var amount_taken = robbed_coin_stack.remove_coins(transfer_amount); //** amount_taken == the coins robbed from robbed_coin_stack
            this.add_coins(amount_taken); //** Moves the taken coins into this coin_stack's value
            return amount_taken; //** Return many coins were transferred
        };

        //** 2. Test the transfer_coins prototype
        var erics_coins = new coin_stack(50);
        var dans_coins = new coin_stack(50);
        console.log("Eric has ", erics_coins.value, " coins. Dan has ", dans_coins.value, " coins.");//** Display how many coins Eric and Dan start with
        // 2.iii Use the new trans_coins prototyped method
        console.log("Eric has taken ", erics_coins.transfer_coins(dans_coins, 30), " coins from Dan. How dare Eric take from his teacher!"); //** Takes 30 coins from Dan and gives it to Eric
        // 2.iv Checking how many coins Eric and Dan have
        console.log("Eric has ", erics_coins.value, " coins. Dan has", dans_coins.value, " coins.");
        // 2.v Transfer 120 coins from Eric to Dan; transferring more coins then Eric has to test how it handles
        console.log("Now Eric has taken ", erics_coins.transfer_coins(dans_coins, 150), " coins from Dan. Eric wants more than Dan has, what greed!"); //** Takes 30 coins from Dan and gives it to Eric
        // 2.vi Checking if Eric & Dan have the correct amounts
        console.log("Now Eric has ", erics_coins.value, " coins. Dan has", dans_coins.value, " coins.");

    </script>
</head>

<body>
    <header>
        <h1> Javascript OOP Prototypes </h1> <!--Main website title-->
    </header>
</body>
</html>